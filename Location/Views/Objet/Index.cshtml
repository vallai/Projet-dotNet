@model IEnumerable<Location.ViewModels.ReservationObjetViewModel>

@{
    ViewBag.Title = "Mes objets";
}

<h2>Mes objets proposés</h2>

<div class="row objet">
    <div id="nouvel-objet" class="col-xs-12">
        <a href="@Url.Action("Create", "Objet")"><span class='glyphicon glyphicon-plus' aria-hidden='true'></span> Proposer un nouvel objet</a>
    </div>
</div>

@foreach (var item in @Model)
{
    <div class="row objet">
        <img class="photo col-sm-2" src="~/Content/img/placeholder.png" />
        <div class="col-sm-6">
            <h3>@item.objet.Titre</h3>
            <p>
                @item.objet.Description
            </p>
        </div>
        <div class="infos col-sm-2">
            <span class="tarif">@item.objet.Tarif€</span><span class="jour">/jour</span><br />
            Caution : @item.objet.Caution €<br />
        </div>
        <div class="outils col-sm-2">
            <a href="@Url.Action("Edit", "Objet", new { id = item.objet.Id })"><span class='glyphicon glyphicon-pencil' aria-hidden='true'></span> Modifier</a><br />
            <a href="@Url.Action("Delete", "Objet", new { id = item.objet.Id })"><span class='glyphicon glyphicon-remove' aria-hidden='true'></span> Supprimer</a>
        </div>
    </div>
    
        foreach (var resa in @item.reservations)
        {
            <div class="row resa">
                <div class="col-lg-12 coordonnees">
                    Réservé par @resa.utilisateur.prenom @resa.utilisateur.nom
                    du @resa.dateDebut.Date.ToString("dd/MM/yyyy")
                    au @resa.dateFin.Date.ToString("dd/MM/yyyy")
                    <br/>Contact : <a href="mailto:@resa.utilisateur.Email">@resa.utilisateur.Email</a>
                </div>
            </div>
        }

    
}